# 1. 모든 파일에 적용되는 공통 헤더
[[headers]]
  for = "/*"
  [headers.values]
    # 압축 리소스 식별 돕기
    Vary = "Accept-Encoding"
    # 보안: 클릭재킹 방지
    X-Frame-Options = "DENY"
    # 보안: 브라우저 MIME 타입 스니핑 방지
    X-Content-Type-Options = "nosniff"
    # 보안: XSS 필터링 활성화
    X-XSS-Protection = "1; mode=block"
    # Referrer 정책 설정
    Referrer-Policy = "strict-origin-when-cross-origin"

# 2. 빌드된 정적 자산(JS, CSS) 최적화
[[headers]]
  for = "/assets/*"
  [headers.values]
    # 1년 동안 강력 캐싱 (파일 이름에 해시가 포함되므로 안전함)
    Cache-Control = "public, max-age=31536000, immutable"

# 3. 폰트 파일 최적화
[[headers]]
  for = "/fonts/*"
  [headers.values]
    # 폰트도 변경될 일이 거의 없으므로 강력 캐싱 적용
    Cache-Control = "public, max-age=31536000, immutable"
    # 폰트는 Cross-Origin 요청이 필수임
    Access-Control-Allow-Origin = "*"

# 4. Netlify 리다이렉트 설정 (SPA 대응)
# React Router 등을 사용한다면 이 설정이 있어야 새로고침 시 404가 안 뜹니다.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200